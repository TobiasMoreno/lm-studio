---
alwaysApply: true
---
You are an expert in TypeScript, Angular, and scalable web application development. You write functional, maintainable, performant, and accessible code following Angular and TypeScript best practices.

## TypeScript Best Practices

- Use strict type checking
- Prefer type inference when the type is obvious
- Avoid the `any` type; use `unknown` when type is uncertain

## Angular Best Practices

- Always use standalone components over NgModules
- Must NOT set `standalone: true` inside Angular decorators. It's the default in Angular v20+.
- Use signals for state management
- Implement lazy loading for feature routes
- Do NOT use the `@HostBinding` and `@HostListener` decorators. Put host bindings inside the `host` object of the `@Component` or `@Directive` decorator instead
- Use `NgOptimizedImage` for all static images.
  - `NgOptimizedImage` does not work for inline base64 images.

## Accessibility Requirements

- It MUST pass all AXE checks.
- It MUST follow all WCAG AA minimums, including focus management, color contrast, and ARIA attributes.

### Components

- Keep components small and focused on a single responsibility
- Use `input()` and `output()` functions instead of decorators
- Use `computed()` for derived state
- Set `changeDetection: ChangeDetectionStrategy.OnPush` in `@Component` decorator
- Prefer inline templates for small components
- Prefer Reactive forms instead of Template-driven ones
- Do NOT use `ngClass`, use `class` bindings instead
- Do NOT use `ngStyle`, use `style` bindings instead
- When using external templates/styles, use paths relative to the component TS file.

## State Management

- Use signals for local component state
- Use `computed()` for derived state
- Keep state transformations pure and predictable
- Do NOT use `mutate` on signals, use `update` or `set` instead

## Templates

- Keep templates simple and avoid complex logic
- Use native control flow (`@if`, `@for`, `@switch`) instead of `*ngIf`, `*ngFor`, `*ngSwitch`
- Use the async pipe to handle observables
- Do not assume globals like (`new Date()`) are available.
- Do not write arrow functions in templates (they are not supported).

## Services

- Design services around a single responsibility
- Use the `providedIn: 'root'` option for singleton services
- Use the `inject()` function instead of constructor injection

## LM Studio Project Specific Rules

### Stack Tecnológico
- **Tailwind CSS**: Usar SOLO utility classes para todos los estilos
- **PrimeNG**: Usar para componentes UI complejos (botones, inputs, modales, etc.)
- **NO crear archivos CSS personalizados** - Todo debe ser con Tailwind utility classes
- Usar `[class]` binding en lugar de `ngClass` para clases dinámicas

### Estructura del Proyecto
- Seguir la estructura: `core/`, `features/`, `shared/`, `layout/`
- Cada feature debe tener su componente y archivo de rutas
- Modelos en `core/models/`, servicios en `core/services/`, constantes en `core/constants/`
- Datos mockeados en `core/data/products.mock.ts`
- Imágenes en `public/images/products/` (1200x1200px, formato JPG/PNG/WebP) - Se sirven desde la raíz como `images/products/`
- Feature `cart/` para el carrito de compras
- Servicio `cart.service.ts` para gestionar el estado del carrito con signals y localStorage

### Modelos de Datos
```typescript
export interface Product {
  id: string;
  name: string;
  price: number;
  images: string[];
  sizes: ('S' | 'M' | 'L' | 'XL')[];
  colors: string[];
  description: string;
}

export interface CartItem {
  productId: string;
  productName: string;
  price: number;
  size: 'S' | 'M' | 'L' | 'XL';
  color: string;
  image: string;
  quantity: number;
}
```

### Lógica de Negocio
- **Carrito de compras**: 
  - Servicio con signals para gestionar items
  - Persistencia en localStorage
  - Validar talle y color antes de agregar
  - Permitir modificar cantidad y eliminar items
  - Mismo producto con diferente talle/color = items separados
- **WhatsApp**: 
  - Número: phoneNumber a definir en el archivo (en `whatsapp.constants.ts`)
  - Formato link: `https://wa.me/{{phoneNumber}}?text={{mensajeCodificado}}`
  - Compra individual: Botón "Comprar ahora" con mensaje del producto
  - Compra desde carrito: Botón "Finalizar compra" con todos los productos y total
- **Filtros**: En listado de productos, filtros combinados por talle y color (AND lógico)
- **Precios**: Formato ARS sin decimales (ej: `$15.000`), usar pipe personalizado
- **Rutas**: `/`, `/products`, `/product/:id`, `/cart`, `/about`
- Datos mockeados en `core/data/products.mock.ts` (no hay backend)
- No implementar autenticación ni pagos online

### Diseño
- Minimalista, mucho espacio en blanco
- Paleta neutra + 1 color de acento
- Cards limpias, foco en imágenes
- Evitar sobrecarga visual
- **Responsive**: Mobile-first, breakpoints Tailwind (mobile < 768px, tablet 768-1024px, desktop > 1024px)
- **Header**: Logo, navegación, icono de carrito con contador
- **Footer**: Información de contacto, copyright
- **Imágenes**: Usar `NgOptimizedImage`, tamaño recomendado 1200x1200px (1:1)